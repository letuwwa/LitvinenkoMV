{% extends 'base.html' %}
{% load static %}

{% block title %}
    <title>All jobs</title>
{% endblock %}

{% block page_title %}
    <h2>Все вакансии</h2>
{% endblock %}

{% block content %}
    <div class="container" style="margin-top: 20px">
        <div class="container">
            <div class="row mb-5 justify-content-center">
                <div class="col-md-7 text-center">
                    <h2>Найдено {{ job_qs }} вакансий</h2>

                    {% if request.user.profile.role == 'employer' %}
                        <div class="text-center">
                            <a href="{% url 'job_post' %}" class="btn btn-primary">
                                Создать вакансию
                            </a>
                        </div>
                    {% endif %}

                </div>
            </div>
                {% for q in query %}
                    <div class="row align-items-start job-item border-bottom pb-3 mb-3 pt-3">
                        <div class="col-md-4">
                            <span class="badge badge-primary px-2 py-1 mb-3">
                                {{ q.employment_status }}
                            </span>
                            <h2><a href="{% url 'job_single' q.id %}">{{ q.title }}</a></h2>
                        </div>
                        <div class="col-md-3 text-left">
                            <h3>Местоположение: {{ q.job_location }}</h3>
                            <span class="meta"></span>
                        </div>
                        <div class="col-md-3 text-md-right">
                            <h2>{{ q.salary }}&dollar;</h2>
                        </div>
                    </div>
                {% endfor %}
        </div>

            <div class="row pagination-wrap" style="margin-bottom: 20px">
                <div class="col-md-6 text-center text-md-left">
                    <div class="custom-pagination ml-auto">
                        {% if query.has_previous %}
                            <a href="?page={{ query.previous_page_number }}" class="prev">Предыдущая</a>
                        {% endif %}
                        <div class="d-inline-block">
                            Страница <a href="#" class="active">{{ query.number }}</a> из {{ query.paginator.num_pages }}
                        </div>
                        {% if query.has_next %}
                            <a href="?page={{ query.next_page_number }}" class="next">Следующая</a>
                        {% endif %}
                    </div>
                </div>
            </div>

    </div>
{% endblock %}